{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://127.0.0.1:8000';\n/* 'http://localhost:8000' http://127.0.0.1:8000/ or  'https://movies-groyce.pythonanywhere.com/'*/\n\nexport class APIService {\n  constructor() {}\n\n  getMovie(param_pk) {\n    const url = `${API_URL}/api/movies/${param_pk}`;\n    let jwtToken = localStorage.getItem('token');\n    console.log(\":::jwtToken:::::\" + jwtToken);\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.get(url, {\n      headers: {\n        Authorization: `jwt ${jwtToken}`\n      }\n    });\n  }\n\n  getMovieList() {\n    const url = `${API_URL}/api/movies/`;\n    let jwtToken = localStorage.getItem('token');\n    console.log(\":::jwtToken:::::\" + jwtToken);\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.get(url, {\n      headers: headers\n    });\n  }\n\n  addNewMovie(movie) {\n    const url = `${API_URL}/api/movies/`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.post(url, movie, {\n      headers: headers\n    });\n  }\n\n  updateMovie(movie) {\n    const url = `${API_URL}/api/movies/${movie.pk}`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.put(url, movie, {\n      headers: headers\n    });\n  }\n\n  deleteMovie(movie_Pk) {\n    const url = `${API_URL}/api/movies/${movie_Pk}`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {\n      Authorization: `jwt ${jwtToken}`\n    };\n    return axios.delete(url, {\n      headers: headers\n    });\n  }\n\n  authenticateLogin(credentials) {\n    const url = `${API_URL}/auth/`;\n    return axios.post(url, credentials);\n  }\n\n  registerUser(credentials) {\n    const url = `${API_URL}/register/`;\n    credentials.customusername = credentials.username;\n    return axios.post(url, credentials);\n  }\n\n}","map":{"version":3,"names":["axios","API_URL","APIService","constructor","getMovie","param_pk","url","jwtToken","localStorage","getItem","console","log","headers","Authorization","get","getMovieList","addNewMovie","movie","post","updateMovie","pk","put","deleteMovie","movie_Pk","delete","authenticateLogin","credentials","registerUser","customusername","username"],"sources":["/Users/amayaackerman/Desktop/ISQA4900/movie-fe/src/http/APIService.js"],"sourcesContent":["import axios from 'axios';\nconst API_URL = 'http://127.0.0.1:8000'; /* 'http://localhost:8000' http://127.0.0.1:8000/ or  'https://movies-groyce.pythonanywhere.com/'*/\n\nexport class APIService {\n  constructor() {\n\n  }\n\n  getMovie(param_pk) {\n    const url = `${API_URL}/api/movies/${param_pk}`;\n    let jwtToken = localStorage.getItem('token');\n    console.log(\":::jwtToken:::::\"+jwtToken);\n    const headers = {Authorization: `jwt ${jwtToken}`};\n    return axios.get(url, {headers: {Authorization: `jwt ${jwtToken}`}});\n  }\n\n  getMovieList() {\n    const url = `${API_URL}/api/movies/`;\n    let jwtToken = localStorage.getItem('token');\n    console.log(\":::jwtToken:::::\"+jwtToken);\n    const headers = {Authorization: `jwt ${jwtToken}`};\n    return axios.get(url, {headers: headers});\n\n  }\n\n  addNewMovie(movie){\n    const url = `${API_URL}/api/movies/`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {Authorization: `jwt ${jwtToken}`};\n    return axios.post(url, movie, {headers: headers});\n  }\n\n  updateMovie(movie){\n    const url = `${API_URL}/api/movies/${movie.pk}`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {Authorization: `jwt ${jwtToken}`};\n    return axios.put(url, movie, {headers: headers});\n  }\n\n  deleteMovie(movie_Pk){\n    const url = `${API_URL}/api/movies/${movie_Pk}`;\n    let jwtToken = localStorage.getItem('token');\n    const headers = {Authorization: `jwt ${jwtToken}`};\n    return axios.delete(url, {headers: headers});\n  }\n\n  authenticateLogin(credentials) {\n    const url = `${API_URL}/auth/`;\n    return axios.post(url, credentials);\n  }\n\n  registerUser(credentials) {\n     const url = `${API_URL}/register/`;\n     credentials.customusername = credentials.username\n     return axios.post(url, credentials);\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,uBAAhB;AAAyC;;AAEzC,OAAO,MAAMC,UAAN,CAAiB;EACtBC,WAAW,GAAG,CAEb;;EAEDC,QAAQ,CAACC,QAAD,EAAW;IACjB,MAAMC,GAAG,GAAI,GAAEL,OAAQ,eAAcI,QAAS,EAA9C;IACA,IAAIE,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAf;IACAC,OAAO,CAACC,GAAR,CAAY,qBAAmBJ,QAA/B;IACA,MAAMK,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAhC,CAAhB;IACA,OAAOP,KAAK,CAACc,GAAN,CAAUR,GAAV,EAAe;MAACM,OAAO,EAAE;QAACC,aAAa,EAAG,OAAMN,QAAS;MAAhC;IAAV,CAAf,CAAP;EACD;;EAEDQ,YAAY,GAAG;IACb,MAAMT,GAAG,GAAI,GAAEL,OAAQ,cAAvB;IACA,IAAIM,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAf;IACAC,OAAO,CAACC,GAAR,CAAY,qBAAmBJ,QAA/B;IACA,MAAMK,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAhC,CAAhB;IACA,OAAOP,KAAK,CAACc,GAAN,CAAUR,GAAV,EAAe;MAACM,OAAO,EAAEA;IAAV,CAAf,CAAP;EAED;;EAEDI,WAAW,CAACC,KAAD,EAAO;IAChB,MAAMX,GAAG,GAAI,GAAEL,OAAQ,cAAvB;IACA,IAAIM,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAf;IACA,MAAMG,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAhC,CAAhB;IACA,OAAOP,KAAK,CAACkB,IAAN,CAAWZ,GAAX,EAAgBW,KAAhB,EAAuB;MAACL,OAAO,EAAEA;IAAV,CAAvB,CAAP;EACD;;EAEDO,WAAW,CAACF,KAAD,EAAO;IAChB,MAAMX,GAAG,GAAI,GAAEL,OAAQ,eAAcgB,KAAK,CAACG,EAAG,EAA9C;IACA,IAAIb,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAf;IACA,MAAMG,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAhC,CAAhB;IACA,OAAOP,KAAK,CAACqB,GAAN,CAAUf,GAAV,EAAeW,KAAf,EAAsB;MAACL,OAAO,EAAEA;IAAV,CAAtB,CAAP;EACD;;EAEDU,WAAW,CAACC,QAAD,EAAU;IACnB,MAAMjB,GAAG,GAAI,GAAEL,OAAQ,eAAcsB,QAAS,EAA9C;IACA,IAAIhB,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAf;IACA,MAAMG,OAAO,GAAG;MAACC,aAAa,EAAG,OAAMN,QAAS;IAAhC,CAAhB;IACA,OAAOP,KAAK,CAACwB,MAAN,CAAalB,GAAb,EAAkB;MAACM,OAAO,EAAEA;IAAV,CAAlB,CAAP;EACD;;EAEDa,iBAAiB,CAACC,WAAD,EAAc;IAC7B,MAAMpB,GAAG,GAAI,GAAEL,OAAQ,QAAvB;IACA,OAAOD,KAAK,CAACkB,IAAN,CAAWZ,GAAX,EAAgBoB,WAAhB,CAAP;EACD;;EAEDC,YAAY,CAACD,WAAD,EAAc;IACvB,MAAMpB,GAAG,GAAI,GAAEL,OAAQ,YAAvB;IACAyB,WAAW,CAACE,cAAZ,GAA6BF,WAAW,CAACG,QAAzC;IACA,OAAO7B,KAAK,CAACkB,IAAN,CAAWZ,GAAX,EAAgBoB,WAAhB,CAAP;EACF;;AApDqB"},"metadata":{},"sourceType":"module"}