{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '../router';\nimport { APIService } from '../http/APIService';\nconst apiService = new APIService();\nexport default {\n  data() {\n    return {\n      showError: false,\n      movie: {},\n      pageTitle: \"Add New Movie\",\n      isUpdate: false,\n      showMsg: ''\n    };\n  },\n\n  methods: {\n    createMovie() {\n      apiService.addNewMovie(this.movie).then(response => {\n        if (response.status === 201) {\n          this.movie = response.data;\n          this.showMsg = \"\";\n          router.push('/movie-list/new');\n        } else {\n          this.showMsg = \"error\";\n        }\n      }).catch(error => {\n        if (error.response.status === 401) {\n          router.push(\"/auth\");\n        } else if (error.response.status === 400) {\n          this.showMsg = \"error\";\n        }\n      });\n    },\n\n    cancelOperation() {\n      router.push(\"/movie-list\");\n    },\n\n    updateMovie() {\n      apiService.updateMovie(this.movie).then(response => {\n        if (response.status === 200) {\n          this.movie = response.data;\n          router.push('/movie-list/update');\n        } else {\n          this.showMsg = \"error\";\n        }\n      }).catch(error => {\n        if (error.response.status === 401) {\n          router.push(\"/auth\");\n        } else if (error.response.status === 400) {\n          this.showMsg = \"error\";\n        }\n      });\n    }\n\n  },\n\n  mounted() {\n    if (this.$route.params.pk) {\n      this.pageTitle = \"Edit Movie\";\n      this.isUpdate = true;\n      apiService.getMovie(this.$route.params.pk).then(response => {\n        this.movie = response.data;\n      }).catch(error => {\n        if (error.response.status === 401) {\n          router.push(\"/auth\");\n        }\n      });\n    }\n  }\n\n};","map":{"version":3,"mappings":";AAqEE,OAAOA,MAAP,MAAmB,WAAnB;AACA,SAAQC,UAAR,QAAyB,oBAAzB;AACA,MAAMC,UAAS,GAAI,IAAID,UAAJ,EAAnB;AAGF,eAAe;EACbE,IAAI,GAAG;IACH,OAAO;MACLC,SAAS,EAAE,KADN;MAELC,KAAK,EAAE,EAFF;MAGLC,SAAS,EAAE,eAHN;MAILC,QAAQ,EAAE,KAJL;MAKLC,OAAO,EAAE;IALJ,CAAP;EAOH,CATY;;EAUXC,OAAO,EAAE;IACPC,WAAW,GAAG;MACZR,UAAU,CAACS,WAAX,CAAuB,KAAKN,KAA5B,EAAmCO,IAAnC,CAAwCC,QAAO,IAAK;QAClD,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;UAC3B,KAAKT,KAAL,GAAaQ,QAAQ,CAACV,IAAtB;UACA,KAAKK,OAAL,GAAe,EAAf;UACAR,MAAM,CAACe,IAAP,CAAY,iBAAZ;QACD,CAJD,MAIK;UACH,KAAKP,OAAL,GAAe,OAAf;QACF;MACD,CARD,EAQGQ,KARH,CAQSC,KAAI,IAAK;QAChB,IAAIA,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACjCd,MAAM,CAACe,IAAP,CAAY,OAAZ;QACD,CAFD,MAEM,IAAIE,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACvC,KAAKN,OAAL,GAAe,OAAf;QACF;MACD,CAdD;IAeD,CAjBM;;IAkBPU,eAAe,GAAE;MACflB,MAAM,CAACe,IAAP,CAAY,aAAZ;IACD,CApBM;;IAqBPI,WAAW,GAAG;MACZjB,UAAU,CAACiB,WAAX,CAAuB,KAAKd,KAA5B,EAAmCO,IAAnC,CAAwCC,QAAO,IAAK;QAClD,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;UAC3B,KAAKT,KAAL,GAAaQ,QAAQ,CAACV,IAAtB;UACAH,MAAM,CAACe,IAAP,CAAY,oBAAZ;QACD,CAHD,MAGK;UACH,KAAKP,OAAL,GAAe,OAAf;QACF;MACD,CAPD,EAOGQ,KAPH,CAOSC,KAAI,IAAK;QAChB,IAAIA,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACjCd,MAAM,CAACe,IAAP,CAAY,OAAZ;QACD,CAFD,MAEM,IAAIE,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACvC,KAAKN,OAAL,GAAe,OAAf;QACF;MACD,CAbD;IAcF;;EApCO,CAVE;;EAgDXY,OAAO,GAAG;IACR,IAAI,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAAvB,EAA2B;MACzB,KAAKjB,SAAL,GAAiB,YAAjB;MACA,KAAKC,QAAL,GAAgB,IAAhB;MACAL,UAAU,CAACsB,QAAX,CAAoB,KAAKH,MAAL,CAAYC,MAAZ,CAAmBC,EAAvC,EAA2CX,IAA3C,CAAgDC,QAAO,IAAK;QAC1D,KAAKR,KAAL,GAAaQ,QAAQ,CAACV,IAAtB;MACD,CAFD,EAEGa,KAFH,CAESC,KAAI,IAAK;QAChB,IAAIA,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACjCd,MAAM,CAACe,IAAP,CAAY,OAAZ;QACF;MACD,CAND;IAOF;EACD;;AA5DU,CAAf","names":["router","APIService","apiService","data","showError","movie","pageTitle","isUpdate","showMsg","methods","createMovie","addNewMovie","then","response","status","push","catch","error","cancelOperation","updateMovie","mounted","$route","params","pk","getMovie"],"sourceRoot":"","sources":["/Users/amayaackerman/Desktop/ISQA4900/movie-fe/src/components/MovieCreate.vue"],"sourcesContent":[" <template>\n  <div class=\"container-fluid\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\" col align-items-center\">\n        <div class=\"row align-items-center justify-content-center\">\n          <div class=\"col col-12 col-sm-10 col-md-10 col-lg-6\">\n            <div class=\"alert alert-danger shadow\" role=\"alert\"\n            v-if=\"showMsg === 'error'\">\n              Please verify Movie Information\n            </div>\n          </div>\n        </div>\n        <div class=\"row align-items-center justify-content-center\">\n          <div class=\"col col-12 col-sm-10 col-md-10 col-lg-6 align-items-center\">\n            <div class=\"card\">\n              <div class=\"card-header\">{{pageTitle}}</div>\n              <div class=\"card-body\">\n                <form ref=\"form\">\n                  <div class=\"container-fluid\">\n\n\n                    <div class=\"form-group row justify-content-around py-2\">\n                      <label class=\"col-5\">Name</label>\n                      <div class=\"col col-7\">\n                        <input v-model=\"movie.name\" type=\"text\" class=\"form-control-sm form-control\">\n                      </div>\n                    </div>\n\n\n                    <div class=\"form-group row justify-content-around py-2\">\n                      <label class=\"col-5\">Description</label>\n                      <div class=\"col col-7\">\n                        <input v-model=\"movie.description\" type=\"text\" class=\"form-control-sm form-control\">\n                      </div>\n                    </div>\n\n\n                    <div class=\"form-group row justify-content-around py-2\">\n                      <label class=\"col-5\">Year</label>\n                      <div class=\"col col-7\">\n                        <input v-model=\"movie.year\" type=\"text\" class=\"form-control-sm form-control\">\n                      </div>\n                    </div>\n\n\n                    <div class=\"form-group row justify-content-around py-2\">\n                      <label class=\"col-5\">Rating</label>\n                      <div class=\"col col-7\">\n                        <input v-model=\"movie.rating\" type=\"text\" class=\"form-control-sm form-control\">\n                      </div>\n                    </div>\n                    <div class=\"row justify-content-around\">\n                      <div v-if=\"!isUpdate\" type=\"button\" class=\"btn btn-primary col-4\" @click=\"createMovie\">Save</div>\n                      <div v-if=\"isUpdate\" type=\"button\" class=\"btn btn-primary col-4\" @click=\"updateMovie\">Update</div>\n                      <div type=\"button\" class=\"btn btn-secondary col-4\" @click=\"cancelOperation\">Cancel</div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\n  import router from '../router';\n  import {APIService} from '../http/APIService';\n  const apiService = new APIService();\n\n\nexport default {\n  data() {\n      return {\n        showError: false,\n        movie: {},\n        pageTitle: \"Add New Movie\",\n        isUpdate: false,\n        showMsg: '',\n      };\n  },\n    methods: {\n      createMovie() {\n        apiService.addNewMovie(this.movie).then(response => {\n          if (response.status === 201) {\n            this.movie = response.data;\n            this.showMsg = \"\";\n            router.push('/movie-list/new');\n          }else{\n            this.showMsg = \"error\";\n          }\n        }).catch(error => {\n          if (error.response.status === 401) {\n            router.push(\"/auth\");\n          }else if (error.response.status === 400) {\n            this.showMsg = \"error\";\n          }\n        });\n      },\n      cancelOperation(){\n        router.push(\"/movie-list\");\n      },\n      updateMovie() {\n        apiService.updateMovie(this.movie).then(response => {\n          if (response.status === 200) {\n            this.movie = response.data;\n            router.push('/movie-list/update');\n          }else{\n            this.showMsg = \"error\";\n          }\n        }).catch(error => {\n          if (error.response.status === 401) {\n            router.push(\"/auth\");\n          }else if (error.response.status === 400) {\n            this.showMsg = \"error\";\n          }\n        });\n      }\n    },\n    mounted() {\n      if (this.$route.params.pk) {\n        this.pageTitle = \"Edit Movie\";\n        this.isUpdate = true;\n        apiService.getMovie(this.$route.params.pk).then(response => {\n          this.movie = response.data;\n        }).catch(error => {\n          if (error.response.status === 401) {\n            router.push(\"/auth\");\n          }\n        });\n      }\n    },\n}\n</script>\n\n\n<style>\n\n\n</style>\n\n\n\n"]},"metadata":{},"sourceType":"module"}