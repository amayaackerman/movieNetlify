{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, withModifiers as _withModifiers, createTextVNode as _createTextVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row align-items-center justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 col-sm-6 col-md-4 col-lg-4\"\n};\nconst _hoisted_4 = {\n  class: \"card mx-auto shadow\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-title\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"Login\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  key: 0,\n  \"close-icon\": \"mdi-close-circle\",\n  value: true,\n  class: \"alert alert-danger\",\n  role: \"alert\",\n  dense: \"\"\n};\nconst _hoisted_8 = {\n  class: \"card-text pt-2\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"row align-items-center justify-content-center\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress-bar progress-bar-striped progress-bar-animated\",\n  role: \"progressbar\",\n  \"aria-valuenow\": \"75\",\n  \"aria-valuemin\": \"0\",\n  \"aria-valuemax\": \"100\",\n  style: {\n    \"width\": \"75%\"\n  }\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = [_hoisted_10];\nconst _hoisted_12 = {\n  class: \"col-md-10 mb-3\"\n};\nconst _hoisted_13 = {\n  class: \"input-group\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"@\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = [\"rules\"];\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-100\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"***\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = [\"type\", \"rules\", \"append-icon\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createTextVNode(\" ` \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _ctx.showMsg === 'error' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \" Invalid username or password. Please Try again. \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_8, [_ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _hoisted_11)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.credentials.username = $event),\n    counter: 70,\n    label: \"Username\",\n    rules: _ctx.rules.username,\n    maxlength: \"70\",\n    required: \"\",\n    type: \"text\",\n    class: \"form-control mb-3\",\n    placeholder: \"Username\",\n    \"aria-describedby\": \"inputGroupPrepend2\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_15), [[_vModelText, _ctx.credentials.username]]), _hoisted_16, _hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n    type: _ctx.showPassword ? 'text' : 'Password',\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.credentials.password = $event),\n    label: \"Password\",\n    rules: _ctx.rules.password,\n    maxlength: \"20\",\n    required: \"\",\n    \"append-icon\": _ctx.showPassword ? 'mdi-eye' : 'mdi-eye-off',\n    \"onClick:append\": _cache[2] || (_cache[2] = $event => _ctx.showPassword = !_ctx.showPassword),\n    class: \"form-control\",\n    placeholder: \"Password\",\n    \"aria-describedby\": \"inputGroupPrepend2\"\n  }, null, 40\n  /* PROPS, HYDRATE_EVENTS */\n  , _hoisted_18), [[_vModelDynamic, _ctx.credentials.password]])])]), _createElementVNode(\"button\", {\n    ref: \"form\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"])),\n    class: \"btn btn-primary\"\n  }, \"Login\", 512\n  /* NEED_PATCH */\n  )])])])])])]), _createTextVNode(\" ` \")], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","value","role","dense","style","_hoisted_10","_hoisted_6","_ctx","_createElementBlock","_hoisted_11","_hoisted_14","username","$event","counter","label","rules","maxlength","required","type","placeholder","_hoisted_16","_hoisted_17","password","_cache","ref","onClick","$options"],"sourceRoot":"","sources":["/Users/amayaackerman/Desktop/ISQA4900/movie-fe/src/components/Auth.vue"],"sourcesContent":["<template>\n  `\n  <div class=\"container\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n        <div class=\"card mx-auto shadow\">\n          <div class=\"card-body\">\n            <div class=\"card-title\"><span>Login</span></div>\n            <div\n              v-if=\"showMsg === 'error'\"\n              close-icon=\"mdi-close-circle\"\n              :value=\"true\"\n              class=\"alert alert-danger\"\n              role=\"alert\"\n              dense\n            >\n              Invalid username or password. Please Try again.\n            </div>\n            <div class=\"card-text pt-2\">\n              <div\n                class=\"row align-items-center justify-content-center\"\n                v-if=\"loading\"\n              >\n                <div class=\"progress\">\n                  <div\n                    class=\"\n                      progress-bar progress-bar-striped progress-bar-animated\n                    \"\n                    role=\"progressbar\"\n                    aria-valuenow=\"75\"\n                    aria-valuemin=\"0\"\n                    aria-valuemax=\"100\"\n                    style=\"width: 75%\"\n                  ></div>\n                </div>\n              </div>\n\n\n\n\n\n              <div class=\"col-md-10 mb-3\">\n                <div class=\"input-group\">\n                  <div class=\"input-group-prepend\">\n                    <span class=\"input-group-text\">@</span>\n                  </div>\n                  <input\n\n                    v-model=\"credentials.username\"\n                    :counter=\"70\"\n                    label=\"Username\"\n                    :rules=\"rules.username\"\n                    maxlength=\"70\"\n                    required\n                    type=\"text\"\n                    class=\"form-control mb-3\"\n                    placeholder=\"Username\"\n                    aria-describedby=\"inputGroupPrepend2\"\n                  />\n\n\n                  <div class=\"w-100\"></div>\n\n\n                  <div class=\"input-group-prepend\">\n                    <span class=\"input-group-text\">***</span>\n                  </div>\n                  <input\n                    :type=\"showPassword ? 'text' : 'Password'\"\n                    v-model=\"credentials.password\"\n                    label=\"Password\"\n                    :rules=\"rules.password\"\n                    maxlength=\"20\"\n                    required\n                    :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                    @click:append=\"showPassword = ! showPassword\"\n                    class=\"form-control\"\n                    placeholder=\"Password\"\n                    aria-describedby=\"inputGroupPrepend2\"\n\n\n                  />\n                </div>\n              </div>\n\n\n              <button ref =\"form\" @click.prevent=\"login\" class=\"btn btn-primary\">Login</button>\n\n\n\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  `\n</template>\n\n\n<script>\nimport router from \"../router\";\nimport { APIService } from \"../http/APIService\";\nconst apiService = new APIService();\n\n\nexport default {\n  name: \"Auth\",\n\n\n  data: () => ({\n    credentials: {},\n    valid: true,\n    showMsg: \"\",\n    loading: false,\n    rules: {\n      username: [\n        (v) => !!v || \"Username is required\",\n        (v) =>\n          (v && v.length > 3) ||\n          \"A username must be more than 3 characters long\",\n        (v) =>\n          /^[a-z0-9_]+$/.test(v) ||\n          \"A username can only contain letters and digits\",\n      ],\n      password: [\n        (v) => !!v || \"Password is required\",\n        (v) =>\n          (v && v.length > 7) ||\n          \"The password must be longer than 7 characters\",\n      ],\n    },\n    showPassword: false,\n  }),\n  methods: {\n    login() {\n      // checking if the input is valid\n      console.log(\"IS THIS THING WORKING\")\n      if (this.$refs.form) {\n        this.loading = true;\n        apiService\n          .authenticateLogin(this.credentials)\n          .then((res) => {\n            localStorage.setItem(\"token\", res.data.token);\n            localStorage.setItem(\"isAuthenticates\", JSON.stringify(true));\n            localStorage.setItem(\n              \"log_user\",\n              JSON.stringify(this.credentials.username)\n            );\n            //router.push(\"/\");\n            //router.go(-1);\n            window.location = \"/\";\n          })\n          .catch((e) => {\n            this.loading = false;\n            localStorage.removeItem(\"isAuthenticates\");\n            localStorage.removeItem(\"log_user\");\n            localStorage.removeItem(\"token\");\n            // router.go(-1);\n            this.showMsg = \"error\";\n          });\n      }\n    },\n    testMethod() {\n      console.log(this.$refs.form);\n      console.log(\"hey\");\n    },\n  },\n};\n</script>\n\n\n<style>\ninput {\n  padding: 1rem;\n}\n\n\nform {\n  display: flex;\n  justify-content: center;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}